!!! 5
head
  meta(charset='utf-8')
  title {title: title}
  meta(name='description', content='')
  meta(name='author', content='')
  // Mobile Specific
  meta(name="viewport", content="width=device-width, initial-scale=1.0")

  // CSS
  != css('app')
  != css('bootstrap') 
  
  style(type="text/css")
    html, body, #map{
    width: 100%;
    height: 100%;
    margin: 0;
    }

  // JS
  != js('vendor/jquery-1.7.2.min')
  != js('app')  

  script(src="http://openlayers.org/api/OpenLayers.js")

  :coffeescript
    window.init = ->
      map = new OpenLayers.Map "map"

      fromProjection = new OpenLayers.Projection "EPSG:4326"
      toProjection   = new OpenLayers.Projection "EPSG:900913" 
      position       = new OpenLayers.LonLat(-51.22873460, -30.02770410)
        .transform fromProjection, toProjection
      zoom = 10

      markers = new OpenLayers.Layer.Markers "Markers"
      map.addLayer markers

      markers.addMarker new OpenLayers.Marker position 
      map.addLayer new OpenLayers.Layer.OSM()

      map.setCenter position, zoom

      console.log $('#map')
      1
  
body(onload="init();")
  div.container
    block content

  
| </html>
